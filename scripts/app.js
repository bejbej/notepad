angular.module("templates",[]).run(["$templateCache",function(e){e.put("404/404.html",'<div class="margin text-center" style=color:#f5f5f5;><h1>404</h1><span>~(=^..^)</span></div>'),e.put("note/note.html",'<div ng-controller="NoteController as vm"><spinner class=light ng-if=!vm.note></spinner><div class="panel panel-default margin-v margin-h" ng-if=vm.note><ul class="nav nav-tabs"><li ng-class="{ \'active\': vm.view == \'md\' }"><a ng-click="vm.view=\'md\'">view</a></li><li ng-class="{ \'active\': vm.view == \'edit\' }"><a ng-click="vm.view=\'edit\'">edit</a></li></ul><div class=margin btf-markdown=vm.note.text ng-if="vm.view == \'md\'"></div><form ng-if="vm.view == \'edit\'"><div class=margin><button class="btn btn-default" ng-click=vm.delete() ng-disabled=!vm.note.id><span ng-if=!vm.isDeleting>Delete this Note</span> <span ng-if=vm.isDeleting>Deleting<pulse></pulse></span></button></div><div class="margin form-group"><textarea class=form-control ng-model=vm.note.text ng-model-options="{updateOn: \'default blur\', debounce: { default: 4000, blur: 0 }}" ng-change=vm.save() msd-elastic></textarea></div></form></div></div>'),e.put("notes/notes.html",'<div ng-controller="NotesController as vm"><div class="list-group margin-v margin-h"><a class=list-group-item href=#/notes/new><strong>+</strong> Create a New Note</a></div><spinner class=light ng-if=!vm.notes></spinner><div class="list-group margin-v margin-h"><a class=list-group-item href=#/notes/{{::note.id}} ng-repeat="note in ::vm.notes">{{::note.preview}}</a></div></div>'),e.put("pulse/pulse.html",'<div class="sk-spinner sk-spinner-pulse"></div>'),e.put("spinner/spinner.html",'<div class=sk-fading-circle><div class="sk-circle1 sk-circle"></div><div class="sk-circle2 sk-circle"></div><div class="sk-circle3 sk-circle"></div><div class="sk-circle4 sk-circle"></div><div class="sk-circle5 sk-circle"></div><div class="sk-circle6 sk-circle"></div><div class="sk-circle7 sk-circle"></div><div class="sk-circle8 sk-circle"></div><div class="sk-circle9 sk-circle"></div><div class="sk-circle10 sk-circle"></div><div class="sk-circle11 sk-circle"></div><div class="sk-circle12 sk-circle"></div></div>')}]);var app;!function(e){angular.module("app",["templates","ngRoute","ngLocationUpdate","btford.markdown","monospaced.elastic"])}(app||(app={}));var app;!function(e){angular.module("app").constant("config",appConfig),angular.module("app").config(["$locationProvider",function(e){e.html5Mode(!1),e.hashPrefix("")}])}(app||(app={}));var app;!function(e){var t=function(){function e(e){e.when("/notes/:id",{templateUrl:"note/note.html"}).when("/notes",{templateUrl:"notes/notes.html"}).when("/",{redirectTo:"/notes"}).otherwise({templateUrl:"404/404.html"})}return e.$inject=["$routeProvider"],e}();angular.module("app").config(t)}(app||(app={}));var app;!function(e){var t=function(){function e(e,t){var n=this;this.$q=e,this.NoteService=t,this.save=function(){var e=n.$q.defer();return n.id?n.NoteService.put(n).then(e.resolve,e.reject):n.NoteService.post(n).then(function(t){n.id=t,e.resolve()},e.reject),e.promise},this["delete"]=function(){var e=n.$q.defer();return n.id?n.NoteService["delete"](n.id).then(e.resolve,e.reject):e.reject(),e.promise}}return e}();e.Note=t}(app||(app={}));var app;!function(e){var t=function(){function t(t){var n=this;this.$injector=t,this.createNote=function(t){var i=new e.Note(n.$injector.get("$q"),n.$injector.get("NoteService"));return t&&(i.id=t.id,i.text=t.text),i}}return t.$inject=["$injector"],t}();e.NoteFactory=t,angular.module("app").service("NoteFactory",t)}(app||(app={}));var app;!function(e){var t=function(){function e(e,t,n,i){var r=this;this.$http=e,this.$q=t,this.config=n,this.NoteFactory=i,this.getById=function(e){var t=r.$q.defer();return r.$http.get(r.config.notesUrl+"/"+e).then(function(e){t.resolve(r.mapApiDeck(e.data))},function(e){t.reject(e.status)}),t.promise},this.getByQuery=function(){var e=r.$q.defer();return r.$http.get(r.config.notesUrl).then(function(t){return e.resolve(t.data.results)},function(t){return e.reject(t.status)}),e.promise},this.post=function(e){var t=r.$q.defer();return r.$http.post(r.config.notesUrl,e).then(function(e){t.resolve(e.data.id)},function(e){t.reject(e.status)}),t.promise},this.put=function(e){var t=r.$q.defer();return r.$http.put(r.config.notesUrl+"/"+e.id,e).then(function(e){t.resolve()},function(e){t.reject()}),t.promise},this["delete"]=function(e){var t=r.$q.defer();return r.$http["delete"](r.config.notesUrl+"/"+e).then(function(e){t.resolve()},function(e){t.reject(e.status)}),t.promise},this.mapApiDeck=function(e){return r.NoteFactory.createNote(e)}}return e.$inject=["$http","$q","config","NoteFactory"],e}();e.NoteService=t,angular.module("app").service("NoteService",t)}(app||(app={}));var app;!function(e){var t=function(){function e(){this.restrict="E",this.scope={id:"="},this.templateUrl="note/note.html"}return e}();angular.module("app").directive("note",function(){return new t})}(app||(app={}));var app;!function(e){var t=function(){function e(e,t,n,i){var r=this;this.$location=t,this.NoteService=n,this.NoteFactory=i,this.view="md",this.save=function(){r.isSaving=!0,r.note.save()["finally"](function(){r.isSaving=!1,r.$location.update_path("/notes/"+r.note.id)})},this["delete"]=function(){var e=confirm("Are you sure you want to remove this note from the cloud?");e&&(r.isDeleting=!0,r.note["delete"]()["finally"](function(){r.isDeleting=!1,location.hash="/notes"}))},this.createNewNote=function(){var e=r.NoteFactory.createNote();return e.text="",e},"new"===e.id?(this.note=this.createNewNote(),this.view="edit"):this.NoteService.getById(e.id).then(function(e){r.note=e})}return e.$inject=["$routeParams","$location","NoteService","NoteFactory"],e}();angular.module("app").controller("NoteController",t)}(app||(app={}));var app;!function(e){var t=function(){function e(){this.restrict="E",this.templateUrl="notes/notes.html"}return e}();angular.module("app").directive("notes",function(){return new t})}(app||(app={}));var app;!function(e){var t=function(){function e(e){var t=this;e.getByQuery().then(function(e){t.notes=e.sort(function(e,t){return e.preview>t.preview?1:-1})})}return e.$inject=["NoteService"],e}();angular.module("app").controller("NotesController",t)}(app||(app={}));var app;!function(e){var t=function(){function e(){this.restrict="E",this.templateUrl="pulse/pulse.html"}return e}();angular.module("app").directive("pulse",function(){return new t})}(app||(app={}));var app;!function(e){var t=function(){function e(){this.restrict="E",this.templateUrl="spinner/spinner.html"}return e}();angular.module("app").directive("spinner",function(){return new t})}(app||(app={}));